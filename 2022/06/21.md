
https://github.com/edenhill/librdkafka/
STATIC_LIB_libzstd=$(brew ls -v zstd | grep libzstd.a$) ./configure --enable-static

make
sudo make install

```
 % sudo make install
Password:
Install librdkafka to /usr/local
/usr/bin/install -d $DESTDIR/usr/local/include/librdkafka
/usr/bin/install -d $DESTDIR/usr/local/lib
/usr/bin/install rdkafka.h rdkafka_mock.h $DESTDIR/usr/local/include/librdkafka
/usr/bin/install librdkafka.a $DESTDIR/usr/local/lib
[ ! -f librdkafka-static.a ] || /usr/bin/install librdkafka-static.a $DESTDIR/usr/local/lib
/usr/bin/install librdkafka.1.dylib $DESTDIR/usr/local/lib
[ -f "rdkafka.pc" ] && ( \
		/usr/bin/install -d $DESTDIR/usr/local/lib/pkgconfig && \
		/usr/bin/install -m 0644 rdkafka.pc $DESTDIR/usr/local/lib/pkgconfig \
	)
[ -f "rdkafka-static.pc" ] && ( \
		/usr/bin/install -d $DESTDIR/usr/local/lib/pkgconfig && \
		/usr/bin/install -m 0644 rdkafka-static.pc $DESTDIR/usr/local/lib/pkgconfig \
	)
(cd $DESTDIR/usr/local/lib && ln -sf librdkafka.1.dylib librdkafka.dylib)
Install librdkafka++ to /usr/local
/usr/bin/install -d $DESTDIR/usr/local/include/librdkafka
/usr/bin/install -d $DESTDIR/usr/local/lib
/usr/bin/install rdkafkacpp.h $DESTDIR/usr/local/include/librdkafka
/usr/bin/install librdkafka++.a $DESTDIR/usr/local/lib
[ ! -f librdkafka++-static.a ] || /usr/bin/install librdkafka++-static.a $DESTDIR/usr/local/lib
/usr/bin/install librdkafka++.1.dylib $DESTDIR/usr/local/lib
[ -f "rdkafka++.pc" ] && ( \
		/usr/bin/install -d $DESTDIR/usr/local/lib/pkgconfig && \
		/usr/bin/install -m 0644 rdkafka++.pc $DESTDIR/usr/local/lib/pkgconfig \
	)
[ -f "rdkafka++-static.pc" ] && ( \
		/usr/bin/install -d $DESTDIR/usr/local/lib/pkgconfig && \
		/usr/bin/install -m 0644 rdkafka++-static.pc $DESTDIR/usr/local/lib/pkgconfig \
	)
(cd $DESTDIR/usr/local/lib && ln -sf librdkafka++.1.dylib librdkafka++.dylib)
Checking librdkafka integrity
librdkafka.1.dylib             OK
librdkafka.a                   OK
Symbol visibility              OK
Generating pkg-config file rdkafka++-static.pc
Checking librdkafka++ integrity
librdkafka++.1.dylib           OK
librdkafka++.a                 OK
/Library/Developer/CommandLineTools/usr/bin/make -C examples
make[1]: Nothing to be done for `all'.
Updating CONFIGURATION.md
Installing documentation to /usr/local
/usr/bin/install -d $DESTDIR/usr/local/share/doc/librdkafka
/usr/bin/install LICENSE LICENSES.txt INTRODUCTION.md README.md CONFIGURATION.md STATISTICS.md CHANGELOG.md $DESTDIR/usr/local/share/doc/librdkafka
```

```
 % sudo cp  /usr/local/lib/librdkafka.a /Users/xiazemin/.gvm/pkgsets/go1.18/global/pkg/mod/github.com/confluentinc/confluent-kafka-go@v1.8.2/kafka/librdkafka_vendor/librdkafka_darwin.a
```
